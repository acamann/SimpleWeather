import { FiveDayWeatherResponse, MapData, OneCallWeatherResponse } from './models';
import { OPEN_WEATHER_MAP_API_KEY } from 'react-native-dotenv';
import { getTileFromCoordinates, homeCoordinates } from '../utils/map';

const apiKey = OPEN_WEATHER_MAP_API_KEY;

interface GetWeatherPayload<TResponse> {
  latitude: number;
  longitude: number;
  onSuccess: (weather: TResponse) => void;
  onFailure: (error: any) => void;
}

export const getCurrentWeather = (payload: GetWeatherPayload<OneCallWeatherResponse>): Promise<void> => {

  // // Testing
  //payload.onSuccess(getRandomWeather());
  //return Promise.resolve();

  const exclude = 'alerts';
  const { latitude, longitude } = payload;
  if (!apiKey) {
    payload.onFailure("API Key not set");
    return Promise.reject();
  }
  return fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${latitude}&lon=${longitude}&exclude=${exclude}&appid=${apiKey}&units=imperial`)
    .then((response) => response.json())
    .then((json) => {
      payload.onSuccess(json);
    })
    .catch((error) => {
      payload.onFailure(error);
    });
};

export const getDailyWeather = (payload: GetWeatherPayload<FiveDayWeatherResponse>): Promise<void> => {
  const { latitude, longitude } = payload;
  if (!apiKey) {
    payload.onFailure("API Key not set");
    return Promise.reject();
  }
  return fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=imperial`)
    .then((response) => response.json())
    .then((json) => {
      payload.onSuccess(json);
    })
    .catch((error) => {
      payload.onFailure(error);
    });
};

export enum WeatherLayer {
  Precipitation = "precipitation_new",
  Clouds = "clouds_new",
  Temperature = "temp_new",
  Wind = "wind_new",
  Pressure = "pressure_new"
}

export const getCurrentWeatherMapSrc = (layer: WeatherLayer, mapData: MapData): string | undefined => {
  const { latitude, longitude, zoom } = mapData;
  const { x, y } = getTileFromCoordinates(longitude, latitude, zoom);
  return apiKey ? `https://tile.openweathermap.org/map/${layer}/${zoom}/${x}/${y}.png?appid=${apiKey}` : undefined;
}

export const getRandomWeather = () => randomWeatherPayloads[Math.floor(Math.random() * randomWeatherPayloads.length)]

const randomWeatherPayloads: OneCallWeatherResponse[] = [
  {lat:29.8092,lon:-95.5405,timezone:"America/Chicago",timezone_offset:-21600,current:{dt:1641608495,sunrise:1641561510,sunset:1641598683,temp:50.36,feels_like:48.81,pressure:1020,humidity:79,dew_point:44.11,uvi:0,clouds:100,visibility:10000,wind_speed:1.99,wind_deg:86,wind_gust:5.99,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}]},minutely:[{dt:1641608520,precipitation:0},{dt:1641608580,precipitation:0},{dt:1641608640,precipitation:0},{dt:1641608700,precipitation:0},{dt:1641608760,precipitation:0},{dt:1641608820,precipitation:0},{dt:1641608880,precipitation:0},{dt:1641608940,precipitation:0},{dt:1641609000,precipitation:0},{dt:1641609060,precipitation:0},{dt:1641609120,precipitation:0},{dt:1641609180,precipitation:0},{dt:1641609240,precipitation:0},{dt:1641609300,precipitation:0},{dt:1641609360,precipitation:0},{dt:1641609420,precipitation:0},{dt:1641609480,precipitation:0},{dt:1641609540,precipitation:0},{dt:1641609600,precipitation:0},{dt:1641609660,precipitation:0},{dt:1641609720,precipitation:0},{dt:1641609780,precipitation:0},{dt:1641609840,precipitation:0},{dt:1641609900,precipitation:0},{dt:1641609960,precipitation:0},{dt:1641610020,precipitation:0},{dt:1641610080,precipitation:0},{dt:1641610140,precipitation:0},{dt:1641610200,precipitation:0},{dt:1641610260,precipitation:0},{dt:1641610320,precipitation:0},{dt:1641610380,precipitation:0},{dt:1641610440,precipitation:0},{dt:1641610500,precipitation:0},{dt:1641610560,precipitation:0},{dt:1641610620,precipitation:0},{dt:1641610680,precipitation:0},{dt:1641610740,precipitation:0},{dt:1641610800,precipitation:0},{dt:1641610860,precipitation:0},{dt:1641610920,precipitation:0},{dt:1641610980,precipitation:0},{dt:1641611040,precipitation:0},{dt:1641611100,precipitation:0},{dt:1641611160,precipitation:0},{dt:1641611220,precipitation:0},{dt:1641611280,precipitation:0},{dt:1641611340,precipitation:0},{dt:1641611400,precipitation:0},{dt:1641611460,precipitation:0},{dt:1641611520,precipitation:0},{dt:1641611580,precipitation:0},{dt:1641611640,precipitation:0},{dt:1641611700,precipitation:0},{dt:1641611760,precipitation:0},{dt:1641611820,precipitation:0},{dt:1641611880,precipitation:0},{dt:1641611940,precipitation:0},{dt:1641612000,precipitation:0},{dt:1641612060,precipitation:0},{dt:1641612120,precipitation:0}],hourly:[{dt:1641607200,temp:50.36,feels_like:48.81,pressure:1020,humidity:79,dew_point:44.11,uvi:0,clouds:100,visibility:10000,wind_speed:8.48,wind_deg:110,wind_gust:13.02,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641610800,temp:51.12,feels_like:49.5,pressure:1020,humidity:76,dew_point:43.83,uvi:0,clouds:100,visibility:10000,wind_speed:8.7,wind_deg:110,wind_gust:15.28,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641614400,temp:51.91,feels_like:50.32,pressure:1020,humidity:75,dew_point:44.24,uvi:0,clouds:99,visibility:10000,wind_speed:8.28,wind_deg:100,wind_gust:17.94,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641618000,temp:52.93,feels_like:51.46,pressure:1020,humidity:75,dew_point:45.23,uvi:0,clouds:99,visibility:10000,wind_speed:8.55,wind_deg:92,wind_gust:21.47,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641621600,temp:54.19,feels_like:52.88,pressure:1020,humidity:76,dew_point:46.81,uvi:0,clouds:98,visibility:10000,wind_speed:9.04,wind_deg:89,wind_gust:22.41,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641625200,temp:55.45,feels_like:54.37,pressure:1019,humidity:78,dew_point:48.47,uvi:0,clouds:99,visibility:10000,wind_speed:8.5,wind_deg:90,wind_gust:22.17,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641628800,temp:55.72,feels_like:54.75,pressure:1019,humidity:80,dew_point:49.77,uvi:0,clouds:99,visibility:10000,wind_speed:8.28,wind_deg:93,wind_gust:23,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641632400,temp:56.3,feels_like:55.58,pressure:1018,humidity:84,dew_point:51.42,uvi:0,clouds:100,visibility:10000,wind_speed:8.52,wind_deg:94,wind_gust:26.87,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641636000,temp:57.07,feels_like:56.57,pressure:1018,humidity:87,dew_point:53.33,uvi:0,clouds:100,visibility:10000,wind_speed:8.68,wind_deg:95,wind_gust:29.35,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641639600,temp:57.92,feels_like:57.65,pressure:1017,humidity:90,dew_point:55,uvi:0,clouds:100,visibility:10000,wind_speed:8.77,wind_deg:95,wind_gust:29.62,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641643200,temp:58.87,feels_like:58.84,pressure:1017,humidity:93,dew_point:56.7,uvi:0,clouds:100,visibility:10000,wind_speed:9.51,wind_deg:98,wind_gust:31.45,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0},{dt:1641646800,temp:60.24,feels_like:60.48,pressure:1018,humidity:96,dew_point:59.04,uvi:0,clouds:99,visibility:10000,wind_speed:9.35,wind_deg:103,wind_gust:29.24,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0.07},{dt:1641650400,temp:61.63,feels_like:62.1,pressure:1018,humidity:98,dew_point:60.89,uvi:0.08,clouds:100,visibility:10000,wind_speed:9.28,wind_deg:108,wind_gust:27.11,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],pop:0.14},{dt:1641654000,temp:63.28,feels_like:63.91,pressure:1018,humidity:98,dew_point:62.65,uvi:0.31,clouds:100,visibility:7207,wind_speed:9.37,wind_deg:112,wind_gust:26.08,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],pop:0.11},{dt:1641657600,temp:64.87,feels_like:65.61,pressure:1018,humidity:97,dew_point:63.97,uvi:0.94,clouds:100,visibility:10000,wind_speed:8.77,wind_deg:120,wind_gust:24.25,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.36,rain:{"1h":0.66}},{dt:1641661200,temp:66.47,feels_like:67.28,pressure:1018,humidity:95,dew_point:64.83,uvi:1.49,clouds:100,visibility:10000,wind_speed:7.49,wind_deg:129,wind_gust:22.93,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10d"}],pop:0.72,rain:{"1h":2.13}},{dt:1641664800,temp:71.38,feels_like:72.18,pressure:1017,humidity:84,dew_point:66.06,uvi:1.84,clouds:99,visibility:10000,wind_speed:7.54,wind_deg:156,wind_gust:22.37,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10d"}],pop:0.75,rain:{"1h":2.09}},{dt:1641668400,temp:76.3,feels_like:76.91,pressure:1016,humidity:70,dew_point:65.71,uvi:2.28,clouds:82,visibility:10000,wind_speed:11.03,wind_deg:179,wind_gust:23.15,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.85,rain:{"1h":0.53}},{dt:1641672000,temp:78.03,feels_like:78.58,pressure:1014,humidity:65,dew_point:65.39,uvi:1.77,clouds:78,visibility:10000,wind_speed:13.27,wind_deg:189,wind_gust:24.25,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.97,rain:{"1h":0.25}},{dt:1641675600,temp:77.7,feels_like:78.28,pressure:1014,humidity:66,dew_point:65.68,uvi:1.04,clouds:74,visibility:10000,wind_speed:13.85,wind_deg:187,wind_gust:24.76,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:1,rain:{"1h":0.47}},{dt:1641679200,temp:76.77,feels_like:77.38,pressure:1015,humidity:69,dew_point:66.04,uvi:0.65,clouds:64,visibility:10000,wind_speed:13.58,wind_deg:186,wind_gust:25.37,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:1,rain:{"1h":0.54}},{dt:1641682800,temp:74.59,feels_like:75.33,pressure:1015,humidity:76,dew_point:66.36,uvi:0.12,clouds:55,visibility:10000,wind_speed:12.35,wind_deg:188,wind_gust:23.8,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10d"}],pop:1,rain:{"1h":1.07}},{dt:1641686400,temp:72.55,feels_like:73.36,pressure:1016,humidity:82,dew_point:66.78,uvi:0,clouds:50,visibility:10000,wind_speed:10.49,wind_deg:184,wind_gust:25.23,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:1,rain:{"1h":0.67}},{dt:1641690000,temp:71.42,feels_like:72.36,pressure:1016,humidity:87,dew_point:67.12,uvi:0,clouds:34,visibility:10000,wind_speed:9.55,wind_deg:176,wind_gust:26.64,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:0.53,rain:{"1h":0.11}},{dt:1641693600,temp:70.5,feels_like:71.47,pressure:1017,humidity:90,dew_point:67.46,uvi:0,clouds:32,visibility:10000,wind_speed:9.28,wind_deg:174,wind_gust:27.98,weather:[{id:802,main:"Clouds",description:"scattered clouds",icon:"03n"}],pop:0.53},{dt:1641697200,temp:69.8,feels_like:70.84,pressure:1017,humidity:93,dew_point:67.55,uvi:0,clouds:32,visibility:10000,wind_speed:9.24,wind_deg:175,wind_gust:28.72,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:0.67,rain:{"1h":0.33}},{dt:1641700800,temp:69.55,feels_like:70.63,pressure:1017,humidity:94,dew_point:67.62,uvi:0,clouds:49,visibility:10000,wind_speed:9.8,wind_deg:173,wind_gust:30.11,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:0.84,rain:{"1h":0.62}},{dt:1641704400,temp:69.64,feels_like:70.72,pressure:1018,humidity:94,dew_point:67.64,uvi:0,clouds:48,visibility:10000,wind_speed:10.22,wind_deg:177,wind_gust:30.6,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:0.91,rain:{"1h":0.32}},{dt:1641708000,temp:69.46,feels_like:70.52,pressure:1017,humidity:94,dew_point:67.53,uvi:0,clouds:45,visibility:10000,wind_speed:10.85,wind_deg:179,wind_gust:31.61,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:1,rain:{"1h":0.8}},{dt:1641711600,temp:69.66,feels_like:70.7,pressure:1017,humidity:93,dew_point:67.39,uvi:0,clouds:49,visibility:10000,wind_speed:10.54,wind_deg:183,wind_gust:30.98,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10n"}],pop:1,rain:{"1h":1.61}},{dt:1641715200,temp:69.57,feels_like:70.45,pressure:1017,humidity:90,dew_point:66.56,uvi:0,clouds:39,visibility:10000,wind_speed:10.76,wind_deg:195,wind_gust:30.94,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10n"}],pop:1,rain:{"1h":1.72}},{dt:1641718800,temp:69.17,feels_like:70.07,pressure:1017,humidity:91,dew_point:66.4,uvi:0,clouds:54,visibility:10000,wind_speed:9.48,wind_deg:193,wind_gust:30.33,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10n"}],pop:1,rain:{"1h":1.59}},{dt:1641722400,temp:68.45,feels_like:69.42,pressure:1017,humidity:94,dew_point:66.63,uvi:0,clouds:46,visibility:10000,wind_speed:8.21,wind_deg:192,wind_gust:29.73,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:1,rain:{"1h":0.64}},{dt:1641726000,temp:67.59,feels_like:68.56,pressure:1018,humidity:96,dew_point:66.42,uvi:0,clouds:47,visibility:10000,wind_speed:7.16,wind_deg:193,wind_gust:28.5,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10n"}],pop:1,rain:{"1h":1.06}},{dt:1641729600,temp:66.63,feels_like:67.6,pressure:1019,humidity:98,dew_point:65.82,uvi:0,clouds:53,visibility:10000,wind_speed:5.28,wind_deg:205,wind_gust:24,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10n"}],pop:1,rain:{"1h":1.24}},{dt:1641733200,temp:66.33,feels_like:67.26,pressure:1019,humidity:98,dew_point:65.64,uvi:0,clouds:48,visibility:10000,wind_speed:4.38,wind_deg:201,wind_gust:20.65,weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],pop:0.77,rain:{"1h":0.43}},{dt:1641736800,temp:66.85,feels_like:67.84,pressure:1020,humidity:98,dew_point:66.25,uvi:0.16,clouds:53,visibility:10000,wind_speed:3.8,wind_deg:186,wind_gust:20.87,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.77,rain:{"1h":0.12}},{dt:1641740400,temp:67.82,feels_like:68.81,pressure:1021,humidity:96,dew_point:66.49,uvi:0.67,clouds:63,visibility:10000,wind_speed:3.76,wind_deg:211,wind_gust:12.97,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.93,rain:{"1h":0.53}},{dt:1641744000,temp:70.09,feels_like:71.02,pressure:1022,humidity:90,dew_point:67.06,uvi:1.59,clouds:68,visibility:10000,wind_speed:4.43,wind_deg:234,wind_gust:11.7,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:1,rain:{"1h":0.91}},{dt:1641747600,temp:72.1,feels_like:73,pressure:1022,humidity:85,dew_point:67.08,uvi:2.53,clouds:68,visibility:10000,wind_speed:5.86,wind_deg:246,wind_gust:12.97,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:1,rain:{"1h":0.58}},{dt:1641751200,temp:74.21,feels_like:75,pressure:1021,humidity:78,dew_point:66.97,uvi:3.11,clouds:73,visibility:10000,wind_speed:6.24,wind_deg:247,wind_gust:12.15,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.99,rain:{"1h":0.52}},{dt:1641754800,temp:76.84,feels_like:77.47,pressure:1020,humidity:69,dew_point:66.04,uvi:3.02,clouds:99,visibility:10000,wind_speed:8.48,wind_deg:263,wind_gust:12.64,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.93,rain:{"1h":0.91}},{dt:1641758400,temp:77.22,feels_like:77.79,pressure:1020,humidity:67,dew_point:65.37,uvi:2.34,clouds:98,visibility:10000,wind_speed:7.81,wind_deg:281,wind_gust:10.85,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.93,rain:{"1h":0.51}},{dt:1641762000,temp:75.78,feels_like:76.35,pressure:1020,humidity:70,dew_point:65.23,uvi:1.38,clouds:90,visibility:10000,wind_speed:9.19,wind_deg:315,wind_gust:11.14,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.92,rain:{"1h":0.86}},{dt:1641765600,temp:73.18,feels_like:73.58,pressure:1020,humidity:72,dew_point:63.57,uvi:0.65,clouds:92,visibility:10000,wind_speed:10.33,wind_deg:341,wind_gust:13.42,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],pop:0.88,rain:{"1h":0.3}},{dt:1641769200,temp:70.32,feels_like:69.93,pressure:1021,humidity:61,dew_point:55.98,uvi:0.13,clouds:92,visibility:10000,wind_speed:12.59,wind_deg:336,wind_gust:18.88,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],pop:0.88},{dt:1641772800,temp:66.96,feels_like:65.75,pressure:1022,humidity:51,dew_point:48.09,uvi:0,clouds:92,visibility:10000,wind_speed:12.3,wind_deg:342,wind_gust:21.88,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0.83},{dt:1641776400,temp:65.01,feels_like:63.61,pressure:1024,humidity:51,dew_point:46.63,uvi:0,clouds:99,visibility:10000,wind_speed:12.66,wind_deg:346,wind_gust:22.35,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],pop:0.04}],daily:[{dt:1641578400,sunrise:1641561510,sunset:1641598683,moonrise:1641575580,moonset:1641618480,moon_phase:0.18,temp:{day:50.85,min:42.03,max:53.85,night:52.93,eve:52.07,morn:42.96},feels_like:{day:47.89,night:51.46,eve:50.22,morn:38.26},pressure:1024,humidity:48,dew_point:31.98,wind_speed:10.98,wind_deg:27,wind_gust:21.47,weather:[{id:802,main:"Clouds",description:"scattered clouds",icon:"03d"}],clouds:28,pop:0.01,uvi:3.33},{dt:1641664800,sunrise:1641647914,sunset:1641685129,moonrise:1641663840,moonset:0,moon_phase:0.22,temp:{day:71.38,min:54.19,max:78.03,night:69.64,eve:72.55,morn:58.87},feels_like:{day:72.18,night:70.72,eve:73.36,morn:58.84},pressure:1017,humidity:84,dew_point:66.06,wind_speed:13.85,wind_deg:187,wind_gust:31.45,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10d"}],clouds:99,pop:1,rain:9.79,uvi:2.28},{dt:1641751200,sunrise:1641734316,sunset:1641771577,moonrise:1641751920,moonset:1641708300,moon_phase:0.25,temp:{day:74.21,min:55.17,max:77.22,night:55.17,eve:66.96,morn:66.63},feels_like:{day:75,night:53.44,eve:65.75,morn:67.6},pressure:1021,humidity:78,dew_point:66.97,wind_speed:14.56,wind_deg:346,wind_gust:31.61,weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10d"}],clouds:73,pop:1,rain:14.33,uvi:3.11},{dt:1641837600,sunrise:1641820716,sunset:1641858025,moonrise:1641840060,moonset:1641798000,moon_phase:0.28,temp:{day:54.54,min:49.64,max:58.91,night:52.16,eve:55.98,morn:51.73},feels_like:{day:51.62,night:48.78,eve:53.01,morn:49.23},pressure:1032,humidity:41,dew_point:31.51,wind_speed:13.94,wind_deg:20,wind_gust:25.46,weather:[{id:803,main:"Clouds",description:"broken clouds",icon:"04d"}],clouds:81,pop:0.22,uvi:3.66},{dt:1641924000,sunrise:1641907115,sunset:1641944474,moonrise:1641928320,moonset:1641887700,moon_phase:0.31,temp:{day:54.34,min:44.37,max:58.91,night:52.7,eve:55.6,morn:44.37},feels_like:{day:50.56,night:49.6,eve:52.32,morn:39.92},pressure:1034,humidity:23,dew_point:17.33,wind_speed:9.19,wind_deg:40,wind_gust:21.63,weather:[{id:802,main:"Clouds",description:"scattered clouds",icon:"03d"}],clouds:50,pop:0,uvi:3.6},{dt:1642010400,sunrise:1641993512,sunset:1642030923,moonrise:1642016700,moonset:1641977400,moon_phase:0.34,temp:{day:59.88,min:48.51,max:63.66,night:58.33,eve:60.71,morn:48.51},feels_like:{day:58.1,night:57.06,eve:59.34,morn:46.6},pressure:1029,humidity:54,dew_point:42.96,wind_speed:7.54,wind_deg:120,wind_gust:13.73,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],clouds:93,pop:0,uvi:4},{dt:1642096800,sunrise:1642079908,sunset:1642117372,moonrise:1642105260,moonset:1642067160,moon_phase:0.37,temp:{day:61.99,min:56.34,max:65.23,night:61.61,eve:62.38,morn:56.34},feels_like:{day:61.36,night:61.41,eve:62.04,morn:55.38},pressure:1024,humidity:74,dew_point:53.58,wind_speed:9.28,wind_deg:119,wind_gust:19.28,weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],clouds:100,pop:0,uvi:4},{dt:1642183200,sunrise:1642166302,sunset:1642203823,moonrise:1642194120,moonset:1642156860,moon_phase:0.4,temp:{day:66.27,min:61.5,max:66.27,night:64.26,eve:64.71,morn:61.88},feels_like:{day:66.83,night:64.99,eve:65.44,morn:62.28},pressure:1017,humidity:90,dew_point:63.25,wind_speed:6.44,wind_deg:122,wind_gust:20.31,weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:100,pop:1,rain:10.97,uvi:4}]}
]